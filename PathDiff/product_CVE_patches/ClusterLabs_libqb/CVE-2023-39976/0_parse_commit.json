{
    "current_hash": "1bbaa929b77113532785c408dd1b41cd0521ffc8",
    "parent_hash": "92ddd7c92961e321ef96a99066924a6a395b334d",
    "modified_file_0": {
        "mod_filename": "lib/log_blackbox.c",
        "status": "modified",
        "add_lines": 2,
        "dele_lines": 2,
        "patch": "@@ -110,8 +110,8 @@ _blackbox_vlogger(int32_t target,\n \tchunk += sizeof(uint32_t);\n \n \t/* log message */\n-\tmsg_len = qb_vsnprintf_serialize(chunk, max_size, cs->format, ap);\n-\tif (msg_len >= max_size) {\n+\tmsg_len = qb_vsnprintf_serialize(chunk, t->max_line_length, cs->format, ap);\n+\tif (msg_len >= t->max_line_length) {\n \t    chunk = msg_len_pt + sizeof(uint32_t); /* Reset */\n \n \t    /* Leave this at QB_LOG_MAX_LEN so as not to overflow the blackbox */"
    },
    "modified_file_1": {
        "mod_filename": "tests/check_log.c",
        "status": "modified",
        "add_lines": 4,
        "dele_lines": 2,
        "patch": "@@ -832,8 +832,10 @@ START_TEST(test_log_long_msg)\n \t\tqb_log(LOG_INFO, \"Message %d %d - %s\", lpc, lpc%600, buffer);\n \t}\n \n-        qb_log_blackbox_write_to_file(\"blackbox.dump\");\n-        qb_log_blackbox_print_from_file(\"blackbox.dump\");\n+        rc = qb_log_blackbox_write_to_file(\"blackbox.dump\");\n+\tck_assert_int_gt(rc, 0);\n+        rc = qb_log_blackbox_print_from_file(\"blackbox.dump\");\n+\tck_assert_int_le(rc, 0);\n \tunlink(\"blackbox.dump\");\n \tqb_log_fini();\n }"
    }
}