{
    "current_hash": "3819db745da2ac7fb3faacb116788c32f4753f34",
    "parent_hash": "920046abf1928a394025f237eb888d267f12e14a",
    "modified_file_0": {
        "mod_filename": "libavcodec/rpza.c",
        "status": "modified",
        "add_lines": 4,
        "dele_lines": 4,
        "patch": "@@ -85,7 +85,7 @@ static void rpza_decode_stream(RpzaContext *s)\n     unsigned short *pixels = (unsigned short *)s->frame.data[0];\n \n     int row_ptr = 0;\n-    int pixel_ptr = 0;\n+    int pixel_ptr = -4;\n     int block_ptr;\n     int pixel_x, pixel_y;\n     int total_blocks;\n@@ -141,6 +141,7 @@ static void rpza_decode_stream(RpzaContext *s)\n             colorA = AV_RB16 (&s->buf[stream_ptr]);\n             stream_ptr += 2;\n             while (n_blocks--) {\n+                ADVANCE_BLOCK()\n                 block_ptr = row_ptr + pixel_ptr;\n                 for (pixel_y = 0; pixel_y < 4; pixel_y++) {\n                     for (pixel_x = 0; pixel_x < 4; pixel_x++){\n@@ -149,7 +150,6 @@ static void rpza_decode_stream(RpzaContext *s)\n                     }\n                     block_ptr += row_inc;\n                 }\n-                ADVANCE_BLOCK();\n             }\n             break;\n \n@@ -188,6 +188,7 @@ static void rpza_decode_stream(RpzaContext *s)\n             if (s->size - stream_ptr < n_blocks * 4)\n                 return;\n             while (n_blocks--) {\n+                ADVANCE_BLOCK();\n                 block_ptr = row_ptr + pixel_ptr;\n                 for (pixel_y = 0; pixel_y < 4; pixel_y++) {\n                     index = s->buf[stream_ptr++];\n@@ -198,14 +199,14 @@ static void rpza_decode_stream(RpzaContext *s)\n                     }\n                     block_ptr += row_inc;\n                 }\n-                ADVANCE_BLOCK();\n             }\n             break;\n \n         /* Fill block with 16 colors */\n         case 0x00:\n             if (s->size - stream_ptr < 16)\n                 return;\n+            ADVANCE_BLOCK();\n             block_ptr = row_ptr + pixel_ptr;\n             for (pixel_y = 0; pixel_y < 4; pixel_y++) {\n                 for (pixel_x = 0; pixel_x < 4; pixel_x++){\n@@ -219,7 +220,6 @@ static void rpza_decode_stream(RpzaContext *s)\n                 }\n                 block_ptr += row_inc;\n             }\n-            ADVANCE_BLOCK();\n             break;\n \n         /* Unknown opcode */"
    }
}