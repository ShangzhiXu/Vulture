{
    "current_hash": "7d57ca4d9a75562fa32e40766211de150f8b3ee7",
    "parent_hash": "d903b4e3ad4a81b3dd79f12c2f3b9cb16e511173",
    "modified_file_0": {
        "mod_filename": "libavformat/rtmppkt.c",
        "status": "modified",
        "add_lines": 8,
        "dele_lines": 0,
        "patch": "@@ -235,6 +235,14 @@ static int rtmp_packet_read_one_chunk(URLContext *h, RTMPPacket *p,\n     if (hdr != RTMP_PS_TWELVEBYTES)\n         timestamp += prev_pkt[channel_id].timestamp;\n \n+    if (prev_pkt[channel_id].read && size != prev_pkt[channel_id].size) {\n+        av_log(NULL, AV_LOG_ERROR, \"RTMP packet size mismatch %d != %d\\n\",\n+                size,\n+                prev_pkt[channel_id].size);\n+        ff_rtmp_packet_destroy(&prev_pkt[channel_id]);\n+        prev_pkt[channel_id].read = 0;\n+    }\n+\n     if (!prev_pkt[channel_id].read) {\n         if ((ret = ff_rtmp_packet_create(p, channel_id, type, timestamp,\n                                          size)) < 0)"
    }
}