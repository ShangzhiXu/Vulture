{
    "current_hash": "d8ecb335fe4852bbc172c7b79e66944d158b4d92",
    "parent_hash": "6f84b1c458c6aafc9f1ba5d5a6da8792fc60ec8b",
    "modified_file_0": {
        "mod_filename": "libavformat/flvenc.c",
        "status": "modified",
        "add_lines": 5,
        "dele_lines": 0,
        "patch": "@@ -514,6 +514,11 @@ static int flv_write_packet(AVFormatContext *s, AVPacket *pkt)\n     uint8_t *data = NULL;\n     int flags = -1, flags_size, ret;\n \n+    if (enc->codec_type == AVMEDIA_TYPE_AUDIO && !pkt->size) {\n+        av_log(s, AV_LOG_WARNING, \"Empty audio Packet\\n\");\n+        return AVERROR(EINVAL);\n+    }\n+\n     if (enc->codec_id == AV_CODEC_ID_VP6F || enc->codec_id == AV_CODEC_ID_VP6A ||\n         enc->codec_id == AV_CODEC_ID_VP6  || enc->codec_id == AV_CODEC_ID_AAC)\n         flags_size = 2;"
    }
}