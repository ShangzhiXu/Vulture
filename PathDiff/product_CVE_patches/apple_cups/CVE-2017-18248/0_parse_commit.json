{
    "current_hash": "49fa4983f25b64ec29d548ffa3b9782426007df3",
    "parent_hash": "34be0e8038da86a2940ca8cb14b475a14598a7f3",
    "modified_file_0": {
        "mod_filename": "CHANGES.md",
        "status": "modified",
        "add_lines": 3,
        "dele_lines": 2,
        "patch": "@@ -1,12 +1,13 @@\n-CHANGES - 2.2.6 - 2017-10-19\n+CHANGES - 2.2.6 - 2017-10-23\n ============================\n \n \n Changes in CUPS v2.2.6\n ----------------------\n \n+- DBUS notifications could crash the scheduler (Issue #5143)\n - Added USB quirks rules for Canon MP540 and Samsung ML-2160 (Issue #5148)\n-- Fixed TLS cipher suite selection with GNU TLS (Issue #5145)\n+- Fixed TLS cipher suite selection with GNU TLS (Issue #5145, Issue #5150)\n \n \n Changes in CUPS v2.2.5"
    },
    "modified_file_1": {
        "mod_filename": "scheduler/ipp.c",
        "status": "modified",
        "add_lines": 10,
        "dele_lines": 2,
        "patch": "@@ -1597,6 +1597,16 @@ add_job(cupsd_client_t  *con,\t\t/* I - Client connection */\n     return (NULL);\n   }\n \n+  attr = ippFindAttribute(con->request, \"requesting-user-name\", IPP_TAG_NAME);\n+\n+  if (attr && !ippValidateAttribute(attr))\n+  {\n+    send_ipp_status(con, IPP_ATTRIBUTES, _(\"Bad requesting-user-name value: %s\"), cupsLastErrorString());\n+    if ((attr = ippCopyAttribute(con->response, attr, 0)) != NULL)\n+      attr->group_tag = IPP_TAG_UNSUPPORTED_GROUP;\n+    return (NULL);\n+  }\n+\n   if ((job = cupsdAddJob(priority, printer->name)) == NULL)\n   {\n     send_ipp_status(con, IPP_INTERNAL_ERROR,\n@@ -1615,8 +1625,6 @@ add_job(cupsd_client_t  *con,\t\t/* I - Client connection */\n   add_job_uuid(job);\n   apply_printer_defaults(printer, job);\n \n-  attr = ippFindAttribute(job->attrs, \"requesting-user-name\", IPP_TAG_NAME);\n-\n   if (con->username[0])\n   {\n     cupsdSetString(&job->username, con->username);"
    }
}