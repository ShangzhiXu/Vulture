{
    "current_hash": "adda853e64bdba1288d46bc7d462d23d8f2f10ca",
    "parent_hash": "71b14f08794e9c3810c24cc035cc010d2f61d453",
    "modified_file_0": {
        "mod_filename": "src/pybind/mgr/dashboard/controllers/docs.py",
        "status": "modified",
        "add_lines": 3,
        "dele_lines": 29,
        "patch": "@@ -3,8 +3,7 @@\n \n import cherrypy\n \n-from . import Controller, BaseController, Endpoint, ENDPOINT_MAP, \\\n-    allow_empty_body\n+from . import Controller, BaseController, Endpoint, ENDPOINT_MAP\n from .. import logger, mgr\n \n from ..tools import str_to_bool\n@@ -366,31 +365,13 @@ def api_json(self):\n     def api_all_json(self):\n         return self._gen_spec(True, \"/api\")\n \n-    def _swagger_ui_page(self, all_endpoints=False, token=None):\n+    def _swagger_ui_page(self, all_endpoints=False):\n         base = cherrypy.request.base\n         if all_endpoints:\n             spec_url = \"{}/docs/api-all.json\".format(base)\n         else:\n             spec_url = \"{}/docs/api.json\".format(base)\n \n-        auth_header = cherrypy.request.headers.get('authorization')\n-        auth_cookie = cherrypy.request.cookie['token']\n-        jwt_token = \"\"\n-        if auth_cookie is not None:\n-            jwt_token = auth_cookie.value\n-        elif auth_header is not None:\n-            scheme, params = auth_header.split(' ', 1)\n-            if scheme.lower() == 'bearer':\n-                jwt_token = params\n-        else:\n-            if token is not None:\n-                jwt_token = token\n-\n-        api_key_callback = \"\"\", onComplete: () => {{\n-                        ui.preauthorizeApiKey('jwt', '{}');\n-                    }}\n-        \"\"\".format(jwt_token)\n-\n         page = \"\"\"\n         <!DOCTYPE html>\n         <html>\n@@ -431,23 +412,16 @@ def _swagger_ui_page(self, all_endpoints=False, token=None):\n                         SwaggerUIBundle.presets.apis\n                     ],\n                     layout: \"BaseLayout\"\n-                    {}\n                 }})\n                 window.ui = ui\n             }}\n         </script>\n         </body>\n         </html>\n-        \"\"\".format(spec_url, api_key_callback)\n+        \"\"\".format(spec_url)\n \n         return page\n \n     @Endpoint(json_response=False)\n     def __call__(self, all_endpoints=False):\n         return self._swagger_ui_page(all_endpoints)\n-\n-    @Endpoint('POST', path=\"/\", json_response=False,\n-              query_params=\"{all_endpoints}\")\n-    @allow_empty_body\n-    def _with_token(self, token, all_endpoints=False):\n-        return self._swagger_ui_page(all_endpoints, token)"
    }
}