{
    "current_hash": "af3fffab3b0f13057134d96e5d481e400d8bfd27",
    "parent_hash": "775a15be38c268c08cfeb0e413a29bb044a8e285",
    "modified_file_0": {
        "mod_filename": "src/pybind/mgr/dashboard/controllers/docs.py",
        "status": "modified",
        "add_lines": 3,
        "dele_lines": 28,
        "patch": "@@ -8,7 +8,7 @@\n \n from .. import DEFAULT_VERSION, mgr\n from ..api.doc import Schema, SchemaInput, SchemaType\n-from . import ENDPOINT_MAP, BaseController, Controller, Endpoint, allow_empty_body\n+from . import ENDPOINT_MAP, BaseController, Controller, Endpoint\n \n NO_DESCRIPTION_AVAILABLE = \"*No description available*\"\n \n@@ -383,31 +383,13 @@ def api_json(self):\n     def api_all_json(self):\n         return self._gen_spec(True, \"/\")\n \n-    def _swagger_ui_page(self, all_endpoints=False, token=None):\n+    def _swagger_ui_page(self, all_endpoints=False):\n         base = cherrypy.request.base\n         if all_endpoints:\n             spec_url = \"{}/docs/api-all.json\".format(base)\n         else:\n             spec_url = \"{}/docs/api.json\".format(base)\n \n-        auth_header = cherrypy.request.headers.get('authorization')\n-        auth_cookie = cherrypy.request.cookie['token']\n-        jwt_token = \"\"\n-        if auth_cookie is not None:\n-            jwt_token = auth_cookie.value\n-        elif auth_header is not None:\n-            scheme, params = auth_header.split(' ', 1)\n-            if scheme.lower() == 'bearer':\n-                jwt_token = params\n-        else:\n-            if token is not None:\n-                jwt_token = token\n-\n-        api_key_callback = \"\"\", onComplete: () => {{\n-                        ui.preauthorizeApiKey('jwt', '{}');\n-                    }}\n-        \"\"\".format(jwt_token)\n-\n         page = \"\"\"\n         <!DOCTYPE html>\n         <html>\n@@ -448,27 +430,20 @@ def _swagger_ui_page(self, all_endpoints=False, token=None):\n                         SwaggerUIBundle.presets.apis\n                     ],\n                     layout: \"BaseLayout\"\n-                    {}\n                 }})\n                 window.ui = ui\n             }}\n         </script>\n         </body>\n         </html>\n-        \"\"\".format(spec_url, api_key_callback)\n+        \"\"\".format(spec_url)\n \n         return page\n \n     @Endpoint(json_response=False, version=None)\n     def __call__(self, all_endpoints=False):\n         return self._swagger_ui_page(all_endpoints)\n \n-    @Endpoint('POST', path=\"/\", json_response=False,\n-              query_params=\"{all_endpoints}\", version=None)\n-    @allow_empty_body\n-    def _with_token(self, token, all_endpoints=False):\n-        return self._swagger_ui_page(all_endpoints, token)\n-\n \n if __name__ == \"__main__\":\n     import sys"
    }
}