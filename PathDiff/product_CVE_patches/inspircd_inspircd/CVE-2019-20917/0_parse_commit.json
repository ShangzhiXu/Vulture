{
    "current_hash": "2cc35d8625b7ea5cbd1d1ebb116aff86c5280162",
    "parent_hash": "b3dbf43c8cd5c8d08ef9303fe1ecd4f3e9f05bbe",
    "modified_file_0": {
        "mod_filename": "src/modules/extra/m_mysql.cpp",
        "status": "modified",
        "add_lines": 6,
        "dele_lines": 0,
        "patch": "@@ -380,6 +380,9 @@ ModuleSQL::ModuleSQL()\n \n void ModuleSQL::init()\n {\n+\tif (mysql_library_init(0, NULL, NULL))\n+\t\tthrow ModuleException(\"Unable to initialise the MySQL library!\");\n+\n \tDispatcher = new DispatcherThread(this);\n \tServerInstance->Threads->Start(Dispatcher);\n \n@@ -397,10 +400,13 @@ ModuleSQL::~ModuleSQL()\n \t\tDispatcher->OnNotify();\n \t\tdelete Dispatcher;\n \t}\n+\n \tfor(ConnMap::iterator i = connections.begin(); i != connections.end(); i++)\n \t{\n \t\tdelete i->second;\n \t}\n+\n+\tmysql_library_end();\n }\n \n void ModuleSQL::OnRehash(User* user)"
    }
}