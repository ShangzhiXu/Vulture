{
    "current_hash": "8745660fcdac7c1b80c94cfc0ff60928cd4dd4b7",
    "parent_hash": "2d35c3396a1f00375d45b874dafb9e0bdb520a9b",
    "modified_file_0": {
        "mod_filename": "src/modules/extra/m_mysql.cpp",
        "status": "modified",
        "add_lines": 6,
        "dele_lines": 0,
        "patch": "@@ -412,6 +412,9 @@ ModuleSQL::ModuleSQL()\n \n void ModuleSQL::init()\n {\n+\tif (mysql_library_init(0, NULL, NULL))\n+\t\tthrow ModuleException(\"Unable to initialise the MySQL library!\");\n+\n \tDispatcher = new DispatcherThread(this);\n \tServerInstance->Threads.Start(Dispatcher);\n }\n@@ -424,10 +427,13 @@ ModuleSQL::~ModuleSQL()\n \t\tDispatcher->OnNotify();\n \t\tdelete Dispatcher;\n \t}\n+\n \tfor(ConnMap::iterator i = connections.begin(); i != connections.end(); i++)\n \t{\n \t\tdelete i->second;\n \t}\n+\n+\tmysql_library_end();\n }\n \n void ModuleSQL::ReadConfig(ConfigStatus& status)"
    }
}