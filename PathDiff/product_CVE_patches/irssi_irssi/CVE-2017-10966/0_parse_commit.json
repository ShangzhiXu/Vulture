{
    "current_hash": "5e26325317c72a04c1610ad952974e206384d291",
    "parent_hash": "1656dc1e549cfbbe330aafcd8b92177aa9a5555f",
    "modified_file_0": {
        "mod_filename": "src/core/misc.c",
        "status": "modified",
        "add_lines": 3,
        "dele_lines": 0,
        "patch": "@@ -556,6 +556,9 @@ char *my_asctime(time_t t)\n         int len;\n \n \ttm = localtime(&t);\n+\tif (tm == NULL)\n+\t    return g_strdup(\"???\");\n+\n \tstr = g_strdup(asctime(tm));\n \n \tlen = strlen(str);"
    },
    "modified_file_1": {
        "mod_filename": "src/core/nicklist.c",
        "status": "modified",
        "add_lines": 10,
        "dele_lines": 7,
        "patch": "@@ -54,23 +54,26 @@ static void nick_hash_add(CHANNEL_REC *channel, NICK_REC *nick)\n \n static void nick_hash_remove(CHANNEL_REC *channel, NICK_REC *nick)\n {\n-\tNICK_REC *list;\n+\tNICK_REC *list, *newlist;\n \n \tlist = g_hash_table_lookup(channel->nicks, nick->nick);\n \tif (list == NULL)\n \t\treturn;\n \n-\tif (list == nick || list->next == NULL) {\n-\t\tg_hash_table_remove(channel->nicks, nick->nick);\n-\t\tif (list->next != NULL) {\n-\t\t\tg_hash_table_insert(channel->nicks, nick->next->nick,\n-\t\t\t\t\t    nick->next);\n-\t\t}\n+\tif (list == nick) {\n+\t\tnewlist = nick->next;\n \t} else {\n+\t\tnewlist = list;\n \t\twhile (list->next != nick)\n \t\t\tlist = list->next;\n \t\tlist->next = nick->next;\n \t}\n+\n+\tg_hash_table_remove(channel->nicks, nick->nick);\n+\tif (newlist != NULL) {\n+\t\tg_hash_table_insert(channel->nicks, newlist->nick,\n+\t\t\t\t    newlist);\n+\t}\n }\n \n /* Add new nick to list */"
    }
}