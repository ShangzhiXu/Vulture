{
    "current_hash": "77b2631c78461965bc9a7414aae206b5c514e1b3",
    "parent_hash": "26187d1d30f589d10300de2798f5a3ec4b0c1a3d",
    "modified_file_0": {
        "mod_filename": "src/fe-common/irc/fe-netjoin.c",
        "status": "modified",
        "add_lines": 16,
        "dele_lines": 0,
        "patch": "@@ -470,6 +470,20 @@ static void read_settings(void)\n \t}\n }\n \n+static void sig_server_disconnected(IRC_SERVER_REC *server)\n+{\n+\tNETJOIN_SERVER_REC *netjoin_server;\n+\n+\tg_return_if_fail(server != NULL);\n+\n+\tif (!IS_IRC_SERVER(server))\n+\t\treturn;\n+\n+\tif ((netjoin_server = netjoin_find_server(server))) {\n+\t\tnetjoin_server_remove(netjoin_server);\n+\t}\n+}\n+\n void fe_netjoin_init(void)\n {\n \tsettings_add_bool(\"misc\", \"hide_netsplit_quits\", TRUE);\n@@ -480,6 +494,7 @@ void fe_netjoin_init(void)\n \n \tread_settings();\n \tsignal_add(\"setup changed\", (SIGNAL_FUNC) read_settings);\n+\tsignal_add(\"server disconnected\", (SIGNAL_FUNC) sig_server_disconnected);\n }\n \n void fe_netjoin_deinit(void)\n@@ -492,6 +507,7 @@ void fe_netjoin_deinit(void)\n \t}\n \n \tsignal_remove(\"setup changed\", (SIGNAL_FUNC) read_settings);\n+\tsignal_remove(\"server disconnected\", (SIGNAL_FUNC) sig_server_disconnected);\n \n \tsignal_remove(\"message quit\", (SIGNAL_FUNC) msg_quit);\n \tsignal_remove(\"message join\", (SIGNAL_FUNC) msg_join);"
    }
}