{
    "current_hash": "82c137878c2b99100a3cdc1c0f0efea069313901",
    "parent_hash": "8845bd6ed35ab7efa53b7d6cdfc3ea250fc83cc5",
    "modified_file_0": {
        "mod_filename": "docs/changelog.rst",
        "status": "modified",
        "add_lines": 3,
        "dele_lines": 0,
        "patch": "@@ -26,6 +26,9 @@ To update |kitty|, :doc:`follow the instructions <binary>`.\n - Add an option, :opt:`detect_urls` to control whether kitty will detect URLs\n   when the mouse moves over them (:pull:`3118`)\n \n+- Graphics protocol: Dont return filename in the error message when opening file\n+  fails, since filenames can contain control characters (:iss:`3128`)\n+\n \n 0.19.2 [2020-11-13]\n -------------------"
    },
    "modified_file_1": {
        "mod_filename": "kitty/graphics.c",
        "status": "modified",
        "add_lines": 1,
        "dele_lines": 1,
        "patch": "@@ -402,7 +402,7 @@ handle_add_command(GraphicsManager *self, const GraphicsCommand *g, const uint8_\n             snprintf(fname, sizeof(fname)/sizeof(fname[0]), \"%.*s\", (int)g->payload_sz, payload);\n             if (tt == 's') fd = shm_open(fname, O_RDONLY, 0);\n             else fd = open(fname, O_CLOEXEC | O_RDONLY);\n-            if (fd == -1) ABRT(EBADF, \"Failed to open file %s for graphics transmission with error: [%d] %s\", fname, errno, strerror(errno));\n+            if (fd == -1) ABRT(EBADF, \"Failed to open file for graphics transmission with error: [%d] %s\", errno, strerror(errno));\n             img->data_loaded = mmap_img_file(self, img, fd, g->data_sz, g->data_offset);\n             safe_close(fd, __FILE__, __LINE__);\n             if (tt == 't') {"
    }
}