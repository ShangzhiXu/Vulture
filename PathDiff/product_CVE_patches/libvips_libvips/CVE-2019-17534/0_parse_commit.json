{
    "current_hash": "ce684dd008532ea0bf9d4a1d89bacb35f4a83f4d",
    "parent_hash": "25e457736173369dcb0f7c09d07af68aedbdc175",
    "modified_file_0": {
        "mod_filename": "libvips/foreign/gifload.c",
        "status": "modified",
        "add_lines": 2,
        "dele_lines": 2,
        "patch": "@@ -408,9 +408,8 @@ vips_foreign_load_gif_scan_image( VipsForeignLoadGif *gif )\n {\n \tVipsObjectClass *class = VIPS_OBJECT_GET_CLASS( gif );\n \tGifFileType *file = gif->file;\n-\tColorMapObject *map = file->Image.ColorMap ?\n-\t\tfile->Image.ColorMap : file->SColorMap;\n \n+\tColorMapObject *map;\n \tGifByteType *extension;\n \n \tif( DGifGetImageDesc( gif->file ) == GIF_ERROR ) {\n@@ -435,6 +434,7 @@ vips_foreign_load_gif_scan_image( VipsForeignLoadGif *gif )\n \n \t/* Test for a non-greyscale colourmap for this frame.\n \t */\n+\tmap = file->Image.ColorMap ? file->Image.ColorMap : file->SColorMap;\n \tif( !gif->has_colour &&\n \t\tmap ) {\n \t\tint i;"
    }
}