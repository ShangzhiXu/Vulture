{
    "current_hash": "b055b9c474cd376259dde8779908f9eeaf097d93",
    "parent_hash": "904b3926ed1c6c70380d5313d282d248a776baa1",
    "modified_file_0": {
        "mod_filename": "tensorflow/core/kernels/ragged_tensor_to_variant_op.cc",
        "status": "modified",
        "add_lines": 5,
        "dele_lines": 0,
        "patch": "@@ -159,6 +159,11 @@ class RaggedTensorToVariantOp : public OpKernel {\n \n     // Unbatch the Ragged Tensor and encode the components.\n     std::vector<RaggedTensorVariant> unbatched_ragged_input;\n+    auto batched_splits_top_vec =\n+        batched_ragged_input.splits(0).vec<SPLIT_TYPE>();\n+    int num_components = batched_splits_top_vec.size() - 1;\n+    OP_REQUIRES(context, num_components >= 0,\n+                errors::Internal(\"Invalid split argument.\"));\n     OP_REQUIRES_OK(context, UnbatchRaggedZerothDim<VALUE_TYPE, SPLIT_TYPE>(\n                                 batched_ragged_input, &unbatched_ragged_input));\n "
    }
}