{
    "current_hash": "5f7975d09eac0f10ed8a17dbb6f5964977725adc",
    "parent_hash": "3f24ccd932546416ec906a02ddd183b48a1d2c83",
    "modified_file_0": {
        "mod_filename": "tensorflow/lite/kernels/pooling.cc",
        "status": "modified",
        "add_lines": 4,
        "dele_lines": 0,
        "patch": "@@ -87,6 +87,10 @@ TfLiteStatus GenericPrepare(TfLiteContext* context, TfLiteNode* node) {\n   auto padding = params->padding;\n   int out_width, out_height;\n \n+  // Prevent division by 0 in optimized pooling implementations\n+  TF_LITE_ENSURE(context, params->stride_height > 0);\n+  TF_LITE_ENSURE(context, params->stride_width > 0);\n+\n   data->padding = ComputePaddingHeightWidth(\n       params->stride_height, params->stride_width, 1, 1, height, width,\n       params->filter_height, params->filter_width, padding, &out_height,"
    },
    "modified_file_1": {
        "mod_filename": "tensorflow/lite/kernels/pooling_test.cc",
        "status": "modified",
        "add_lines": 13,
        "dele_lines": 0,
        "patch": "@@ -1151,5 +1151,18 @@ TEST(FloatPoolingOpTest, L2PoolPaddingValidSlide1) {\n   EXPECT_THAT(m.GetOutput(), ElementsAreArray({3.5, 6.0, 6.5}));\n }\n \n+#ifdef GTEST_HAS_DEATH_TEST\n+TEST(FloatPoolingOpTest, MaxPoolWithZeroStride) {\n+  EXPECT_DEATH(\n+      FloatPoolingOpModel m(BuiltinOperator_MAX_POOL_2D,\n+                            /*input=*/{TensorType_FLOAT32, {1, 2, 4, 1}},\n+                            /*filter_width=*/2, /*filter_height=*/2,\n+                            /*output=*/{TensorType_FLOAT32, {}},\n+                            /*padding=*/Padding_VALID,\n+                            /*stride_w=*/0, /*stride_h=*/0),\n+      \"Cannot allocate tensors\");\n+}\n+#endif\n+\n }  // namespace\n }  // namespace tflite"
    }
}